var app=function(){"use strict";function noop(){}function assign(e,t){for(const n in t)e[n]=t[n];return e}function run(e){return e()}function blank_object(){return Object.create(null)}function run_all(e){e.forEach(run)}function is_function(e){return"function"==typeof e}function safe_not_equal(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function is_empty(e){return 0===Object.keys(e).length}function create_slot(e,t,n,r){if(e){const a=get_slot_context(e,t,n,r);return e[0](a)}}function get_slot_context(e,t,n,r){return e[1]&&r?assign(n.ctx.slice(),e[1](r(t))):n.ctx}function get_slot_changes(e,t,n,r){if(e[2]&&r){const a=e[2](r(n));if(void 0===t.dirty)return a;if("object"==typeof a){const e=[],n=Math.max(t.dirty.length,a.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|a[r];return e}return t.dirty|a}return t.dirty}function update_slot(e,t,n,r,a,o,s){const i=get_slot_changes(t,r,a,o);if(i){const a=get_slot_context(t,n,r,s);e.p(a,i)}}function exclude_internal_props(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function compute_slots(e){const t={};for(const n in e)t[n]=!0;return t}function append(e,t){e.appendChild(t)}function insert(e,t,n){e.insertBefore(t,n||null)}function detach(e){e.parentNode.removeChild(e)}function destroy_each(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function element(e){return document.createElement(e)}function text(e){return document.createTextNode(e)}function space(){return text(" ")}function empty(){return text("")}function listen(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function attr(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function children(e){return Array.from(e.childNodes)}function set_data(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function set_input_value(e,t){e.value=null==t?"":t}function set_style(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function toggle_class(e,t,n){e.classList[n?"add":"remove"](t)}function custom_event(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}class HtmlTag{constructor(e=null){this.a=e,this.e=this.n=null}m(e,t,n=null){this.e||(this.e=element(t.nodeName),this.t=t,this.h(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)insert(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(detach)}}let current_component;function set_current_component(e){current_component=e}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(e){get_current_component().$$.on_mount.push(e)}function onDestroy(e){get_current_component().$$.on_destroy.push(e)}function createEventDispatcher(){const e=get_current_component();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const a=custom_event(t,n);r.slice().forEach((t=>{t.call(e,a)}))}}}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(e){render_callbacks.push(e)}function add_flush_callback(e){flush_callbacks.push(e)}let flushing=!1;const seen_callbacks=new Set;function flush(){if(!flushing){flushing=!0;do{for(let e=0;e<dirty_components.length;e+=1){const t=dirty_components[e];set_current_component(t),update(t.$$)}for(set_current_component(null),dirty_components.length=0;binding_callbacks.length;)binding_callbacks.pop()();for(let e=0;e<render_callbacks.length;e+=1){const t=render_callbacks[e];seen_callbacks.has(t)||(seen_callbacks.add(t),t())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,flushing=!1,seen_callbacks.clear()}}function update(e){if(null!==e.fragment){e.update(),run_all(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(add_render_callback)}}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(e,t){e&&e.i&&(outroing.delete(e),e.i(t))}function transition_out(e,t,n,r){if(e&&e.o){if(outroing.has(e))return;outroing.add(e),outros.c.push((()=>{outroing.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const globals="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function get_spread_update(e,t){const n={},r={},a={$$scope:1};let o=e.length;for(;o--;){const s=e[o],i=t[o];if(i){for(const e in s)e in i||(r[e]=1);for(const e in i)a[e]||(n[e]=i[e],a[e]=1);e[o]=i}else for(const e in s)a[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}function get_spread_object(e){return"object"==typeof e&&null!==e?e:{}}function bind(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function create_component(e){e&&e.c()}function mount_component(e,t,n,r){const{fragment:a,on_mount:o,on_destroy:s,after_update:i}=e.$$;a&&a.m(t,n),r||add_render_callback((()=>{const t=o.map(run).filter(is_function);s?s.push(...t):run_all(t),e.$$.on_mount=[]})),i.forEach(add_render_callback)}function destroy_component(e,t){const n=e.$$;null!==n.fragment&&(run_all(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function make_dirty(e,t){-1===e.$$.dirty[0]&&(dirty_components.push(e),schedule_update(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function init(e,t,n,r,a,o,s=[-1]){const i=current_component;set_current_component(e);const c=e.$$={fragment:null,ctx:null,props:o,update:noop,not_equal:a,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i?i.$$.context:t.context||[]),callbacks:blank_object(),dirty:s,skip_bound:!1};let l=!1;if(c.ctx=n?n(e,t.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return c.ctx&&a(c.ctx[t],c.ctx[t]=o)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](o),l&&make_dirty(e,t)),n})):[],c.update(),l=!0,run_all(c.before_update),c.fragment=!!r&&r(c.ctx),t.target){if(t.hydrate){const e=children(t.target);c.fragment&&c.fragment.l(e),e.forEach(detach)}else c.fragment&&c.fragment.c();t.intro&&transition_in(e.$$.fragment),mount_component(e,t.target,t.anchor,t.customElement),flush()}set_current_component(i)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!is_empty(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const error$1=(e,t)=>({code:e,status:e,error:!0,ok:!1,message:t}),success=e=>({code:200,status:200,error:!1,ok:!0,data:e}),rest=async(e,t,n,r)=>{Array.isArray(t)&&(t=t.join("/"));try{let a={};if("del"==e&&(a={...a,credentials:"include",method:"DELETE"}),"get"==e&&n){const r=Object.keys(n);for(let e=0;e<r.length;e++){const a=r[e];0==e&&(t+="?"),null!=n[a]&&""!=n[a]&&(t+=`${a}=${encodeURIComponent(n[a])}`,e!=r.length-1&&(t+="&"))}a={...a,credentials:"include",method:e.toUpperCase()}}"put"!=e&&"post"!=e||(a={...a,credentials:"include",method:e.toUpperCase(),body:JSON.stringify(n||{}),headers:{"Content-Type":"application/json"}}),r||console.log(`[fetcher] ðŸŒŸ  ${t}`,a);const o=await fetch(t,a);let s=await o.text();try{s=JSON.parse(s)}catch(e){}return o.ok&&!s.error||console.log(`[fetcher] âŒ  ${t}`,s.message,s.status,s.code),!o.ok||s.error?s:(r||console.log(`[fetcher] âœ…  ${t}`,s),success(s))}catch(e){return r||console.log(`[fetcher] âŒ  ${t}`,e.message,e.status,e.code),error$1(500,e.message)}},names=["get","post","del","put"];let out={};names.forEach((e=>{out[e]=async(t,n,r)=>await rest(e,t,n,r)}));var fetcher=out;function log(e){console.log(`[svelte-tabular-table] ${e}`)}const defaults={hover:e=>log(`${e.id} "${e.key}" -> hovered`),click:e=>log(`${e.id} "${e.key}" -> clicked`),dblclick:e=>log(`${e.id} "${e.key}" -> double clicked`),render:e=>e.value,checked:e=>log(`${e.id} -> ${e.event.target.checked?"checked":"unchecked"}`),sort:(e,t,n)=>{let r=t;return t=null,r.sort(((t,n)=>{let r=t[e.key]||"",a=n[e.key]||"";return"string"==typeof r&&(r=r.toLowerCase()),"string"==typeof a&&(a=a.toLowerCase()),+(r>a)||+(r===a)-1})),e.direction&&(r=r.reverse()),r},dimensions:{row:null,padding:10,widths:[]}},slugify=e=>e.toString().toLowerCase().replaceAll(" ","-").replace(/[^\w\-]+/g,"");function create_else_block_5(e){let t,n,r,a,o,s,i,c;const l=[create_if_block_6,create_else_block_8],d=[];function u(e,t){return e[0].nodiv?0:1}return n=u(e),r=d[n]=l[n](e),{c(){t=element("td"),r.c(),attr(t,"style",e[11]),attr(t,"colspan",e[3]),attr(t,"width",a=e[5]||void 0),attr(t,"class",o=e[4]+" stt-"+slugify(e[1])),attr(t,"data-key",e[1]),toggle_class(t,"stt-sticky",e[6]),toggle_class(t,"stt-sorted",e[13]),toggle_class(t,"stt-ascending",e[13]&&e[12]),toggle_class(t,"stt-descending",e[13]&&!e[12])},m(r,a){insert(r,t,a),d[n].m(t,null),s=!0,i||(c=listen(t,"click",e[33]),i=!0)},p(e,i){let c=n;n=u(e),n===c?d[n].p(e,i):(group_outros(),transition_out(d[c],1,1,(()=>{d[c]=null})),check_outros(),r=d[n],r?r.p(e,i):(r=d[n]=l[n](e),r.c()),transition_in(r,1),r.m(t,null)),(!s||2048&i[0])&&attr(t,"style",e[11]),(!s||8&i[0])&&attr(t,"colspan",e[3]),(!s||32&i[0]&&a!==(a=e[5]||void 0))&&attr(t,"width",a),(!s||18&i[0]&&o!==(o=e[4]+" stt-"+slugify(e[1])))&&attr(t,"class",o),(!s||2&i[0])&&attr(t,"data-key",e[1]),82&i[0]&&toggle_class(t,"stt-sticky",e[6]),8210&i[0]&&toggle_class(t,"stt-sorted",e[13]),12306&i[0]&&toggle_class(t,"stt-ascending",e[13]&&e[12]),12306&i[0]&&toggle_class(t,"stt-descending",e[13]&&!e[12])},i(e){s||(transition_in(r),s=!0)},o(e){transition_out(r),s=!1},d(e){e&&detach(t),d[n].d(),i=!1,c()}}}function create_if_block$3(e){let t,n,r,a,o,s,i,c;const l=[create_if_block_1$2,create_else_block_2$1],d=[];function u(e,t){return e[0].nodiv?0:1}return n=u(e),r=d[n]=l[n](e),{c(){t=element("th"),r.c(),attr(t,"style",e[11]),attr(t,"colspan",e[3]),attr(t,"width",a=e[5]||void 0),attr(t,"class",o=e[4]+" stt-"+slugify(e[1])),attr(t,"data-key",e[1]),toggle_class(t,"stt-sticky",e[6]),toggle_class(t,"stt-sorted",e[13]),toggle_class(t,"stt-ascending",e[13]&&e[12]),toggle_class(t,"stt-descending",e[13]&&!e[12])},m(r,a){insert(r,t,a),d[n].m(t,null),s=!0,i||(c=listen(t,"click",e[32]),i=!0)},p(e,i){let c=n;n=u(e),n===c?d[n].p(e,i):(group_outros(),transition_out(d[c],1,1,(()=>{d[c]=null})),check_outros(),r=d[n],r?r.p(e,i):(r=d[n]=l[n](e),r.c()),transition_in(r,1),r.m(t,null)),(!s||2048&i[0])&&attr(t,"style",e[11]),(!s||8&i[0])&&attr(t,"colspan",e[3]),(!s||32&i[0]&&a!==(a=e[5]||void 0))&&attr(t,"width",a),(!s||18&i[0]&&o!==(o=e[4]+" stt-"+slugify(e[1])))&&attr(t,"class",o),(!s||2&i[0])&&attr(t,"data-key",e[1]),82&i[0]&&toggle_class(t,"stt-sticky",e[6]),8210&i[0]&&toggle_class(t,"stt-sorted",e[13]),12306&i[0]&&toggle_class(t,"stt-ascending",e[13]&&e[12]),12306&i[0]&&toggle_class(t,"stt-descending",e[13]&&!e[12])},i(e){s||(transition_in(r),s=!0)},o(e){transition_out(r),s=!1},d(e){e&&detach(t),d[n].d(),i=!1,c()}}}function create_else_block_8(e){let t,n,r,a;const o=[create_if_block_9,create_else_block_10],s=[];function i(e,t){return e[16].default?1:0}return n=i(e),r=s[n]=o[n](e),{c(){t=element("div"),r.c(),attr(t,"style",e[10]),toggle_class(t,"chevron",e[13]&&"key"==e[2])},m(e,r){insert(e,t,r),s[n].m(t,null),a=!0},p(e,c){let l=n;n=i(e),n===l?s[n].p(e,c):(group_outros(),transition_out(s[l],1,1,(()=>{s[l]=null})),check_outros(),r=s[n],r?r.p(e,c):(r=s[n]=o[n](e),r.c()),transition_in(r,1),r.m(t,null)),(!a||1024&c[0])&&attr(t,"style",e[10]),8196&c[0]&&toggle_class(t,"chevron",e[13]&&"key"==e[2])},i(e){a||(transition_in(r),a=!0)},o(e){transition_out(r),a=!1},d(e){e&&detach(t),s[n].d()}}}function create_if_block_6(e){let t,n,r,a;const o=[create_if_block_7,create_else_block_7],s=[];function i(e,t){return e[16].default?1:0}return t=i(e),n=s[t]=o[t](e),{c(){n.c(),r=empty()},m(e,n){s[t].m(e,n),insert(e,r,n),a=!0},p(e,a){let c=t;t=i(e),t===c?s[t].p(e,a):(group_outros(),transition_out(s[c],1,1,(()=>{s[c]=null})),check_outros(),n=s[t],n?n.p(e,a):(n=s[t]=o[t](e),n.c()),transition_in(n,1),n.m(r.parentNode,r))},i(e){a||(transition_in(n),a=!0)},o(e){transition_out(n),a=!1},d(e){s[t].d(e),e&&detach(r)}}}function create_else_block_10(e){let t;const n=e[31].default,r=create_slot(n,e,e[30],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,a){r&&r.p&&(!t||1073741824&a[0])&&update_slot(r,n,e,e[30],a,null,null)},i(e){t||(transition_in(r,e),t=!0)},o(e){transition_out(r,e),t=!1},d(e){r&&r.d(e)}}}function create_if_block_9(e){let t,n,r,a;const o=[create_if_block_10,create_else_block_9],s=[];function i(e,t){return e[9]?0:1}return t=i(e),n=s[t]=o[t](e),{c(){n.c(),r=empty()},m(e,n){s[t].m(e,n),insert(e,r,n),a=!0},p(e,a){let c=t;t=i(e),t===c?s[t].p(e,a):(group_outros(),transition_out(s[c],1,1,(()=>{s[c]=null})),check_outros(),n=s[t],n?n.p(e,a):(n=s[t]=o[t](e),n.c()),transition_in(n,1),n.m(r.parentNode,r))},i(e){a||(transition_in(n),a=!0)},o(e){transition_out(n),a=!1},d(e){s[t].d(e),e&&detach(r)}}}function create_else_block_9(e){let t,n;return{c(){n=empty(),t=new HtmlTag(n)},m(r,a){t.m(e[14],r,a),insert(r,n,a)},p(e,n){16384&n[0]&&t.p(e[14])},i:noop,o:noop,d(e){e&&detach(n),e&&t.d()}}}function create_if_block_10(e){let t,n,r;const a=[e[7]];var o=e[8];function s(e){let t={};for(let e=0;e<a.length;e+=1)t=assign(t,a[e]);return{props:t}}return o&&(t=new o(s())),{c(){t&&create_component(t.$$.fragment),n=empty()},m(e,a){t&&mount_component(t,e,a),insert(e,n,a),r=!0},p(e,r){const i=128&r[0]?get_spread_update(a,[get_spread_object(e[7])]):{};if(o!==(o=e[8])){if(t){group_outros();const e=t;transition_out(e.$$.fragment,1,0,(()=>{destroy_component(e,1)})),check_outros()}o?(t=new o(s()),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,n.parentNode,n)):t=null}else o&&t.$set(i)},i(e){r||(t&&transition_in(t.$$.fragment,e),r=!0)},o(e){t&&transition_out(t.$$.fragment,e),r=!1},d(e){e&&detach(n),t&&destroy_component(t,e)}}}function create_else_block_7(e){let t;const n=e[31].default,r=create_slot(n,e,e[30],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,a){r&&r.p&&(!t||1073741824&a[0])&&update_slot(r,n,e,e[30],a,null,null)},i(e){t||(transition_in(r,e),t=!0)},o(e){transition_out(r,e),t=!1},d(e){r&&r.d(e)}}}function create_if_block_7(e){let t,n,r,a;const o=[create_if_block_8,create_else_block_6],s=[];function i(e,t){return e[9]?0:1}return t=i(e),n=s[t]=o[t](e),{c(){n.c(),r=empty()},m(e,n){s[t].m(e,n),insert(e,r,n),a=!0},p(e,a){let c=t;t=i(e),t===c?s[t].p(e,a):(group_outros(),transition_out(s[c],1,1,(()=>{s[c]=null})),check_outros(),n=s[t],n?n.p(e,a):(n=s[t]=o[t](e),n.c()),transition_in(n,1),n.m(r.parentNode,r))},i(e){a||(transition_in(n),a=!0)},o(e){transition_out(n),a=!1},d(e){s[t].d(e),e&&detach(r)}}}function create_else_block_6(e){let t,n;return{c(){n=empty(),t=new HtmlTag(n)},m(r,a){t.m(e[14],r,a),insert(r,n,a)},p(e,n){16384&n[0]&&t.p(e[14])},i:noop,o:noop,d(e){e&&detach(n),e&&t.d()}}}function create_if_block_8(e){let t,n,r;const a=[e[7]];var o=e[8];function s(e){let t={};for(let e=0;e<a.length;e+=1)t=assign(t,a[e]);return{props:t}}return o&&(t=new o(s())),{c(){t&&create_component(t.$$.fragment),n=empty()},m(e,a){t&&mount_component(t,e,a),insert(e,n,a),r=!0},p(e,r){const i=128&r[0]?get_spread_update(a,[get_spread_object(e[7])]):{};if(o!==(o=e[8])){if(t){group_outros();const e=t;transition_out(e.$$.fragment,1,0,(()=>{destroy_component(e,1)})),check_outros()}o?(t=new o(s()),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,n.parentNode,n)):t=null}else o&&t.$set(i)},i(e){r||(t&&transition_in(t.$$.fragment,e),r=!0)},o(e){t&&transition_out(t.$$.fragment,e),r=!1},d(e){e&&detach(n),t&&destroy_component(t,e)}}}function create_else_block_2$1(e){let t,n,r,a;const o=[create_if_block_4$1,create_else_block_4],s=[];function i(e,t){return e[16].default?1:0}return n=i(e),r=s[n]=o[n](e),{c(){t=element("div"),r.c(),attr(t,"style",e[10]),toggle_class(t,"chevron",e[13]&&"key"==e[2])},m(e,r){insert(e,t,r),s[n].m(t,null),a=!0},p(e,c){let l=n;n=i(e),n===l?s[n].p(e,c):(group_outros(),transition_out(s[l],1,1,(()=>{s[l]=null})),check_outros(),r=s[n],r?r.p(e,c):(r=s[n]=o[n](e),r.c()),transition_in(r,1),r.m(t,null)),(!a||1024&c[0])&&attr(t,"style",e[10]),8196&c[0]&&toggle_class(t,"chevron",e[13]&&"key"==e[2])},i(e){a||(transition_in(r),a=!0)},o(e){transition_out(r),a=!1},d(e){e&&detach(t),s[n].d()}}}function create_if_block_1$2(e){let t,n,r,a;const o=[create_if_block_2$2,create_else_block_1$1],s=[];function i(e,t){return e[16].default?1:0}return t=i(e),n=s[t]=o[t](e),{c(){n.c(),r=empty()},m(e,n){s[t].m(e,n),insert(e,r,n),a=!0},p(e,a){let c=t;t=i(e),t===c?s[t].p(e,a):(group_outros(),transition_out(s[c],1,1,(()=>{s[c]=null})),check_outros(),n=s[t],n?n.p(e,a):(n=s[t]=o[t](e),n.c()),transition_in(n,1),n.m(r.parentNode,r))},i(e){a||(transition_in(n),a=!0)},o(e){transition_out(n),a=!1},d(e){s[t].d(e),e&&detach(r)}}}function create_else_block_4(e){let t;const n=e[31].default,r=create_slot(n,e,e[30],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,a){r&&r.p&&(!t||1073741824&a[0])&&update_slot(r,n,e,e[30],a,null,null)},i(e){t||(transition_in(r,e),t=!0)},o(e){transition_out(r,e),t=!1},d(e){r&&r.d(e)}}}function create_if_block_4$1(e){let t,n,r,a;const o=[create_if_block_5$1,create_else_block_3],s=[];function i(e,t){return e[9]?0:1}return t=i(e),n=s[t]=o[t](e),{c(){n.c(),r=empty()},m(e,n){s[t].m(e,n),insert(e,r,n),a=!0},p(e,a){let c=t;t=i(e),t===c?s[t].p(e,a):(group_outros(),transition_out(s[c],1,1,(()=>{s[c]=null})),check_outros(),n=s[t],n?n.p(e,a):(n=s[t]=o[t](e),n.c()),transition_in(n,1),n.m(r.parentNode,r))},i(e){a||(transition_in(n),a=!0)},o(e){transition_out(n),a=!1},d(e){s[t].d(e),e&&detach(r)}}}function create_else_block_3(e){let t,n;return{c(){n=empty(),t=new HtmlTag(n)},m(r,a){t.m(e[14],r,a),insert(r,n,a)},p(e,n){16384&n[0]&&t.p(e[14])},i:noop,o:noop,d(e){e&&detach(n),e&&t.d()}}}function create_if_block_5$1(e){let t,n,r;const a=[e[7]];var o=e[8];function s(e){let t={};for(let e=0;e<a.length;e+=1)t=assign(t,a[e]);return{props:t}}return o&&(t=new o(s())),{c(){t&&create_component(t.$$.fragment),n=empty()},m(e,a){t&&mount_component(t,e,a),insert(e,n,a),r=!0},p(e,r){const i=128&r[0]?get_spread_update(a,[get_spread_object(e[7])]):{};if(o!==(o=e[8])){if(t){group_outros();const e=t;transition_out(e.$$.fragment,1,0,(()=>{destroy_component(e,1)})),check_outros()}o?(t=new o(s()),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,n.parentNode,n)):t=null}else o&&t.$set(i)},i(e){r||(t&&transition_in(t.$$.fragment,e),r=!0)},o(e){t&&transition_out(t.$$.fragment,e),r=!1},d(e){e&&detach(n),t&&destroy_component(t,e)}}}function create_else_block_1$1(e){let t;const n=e[31].default,r=create_slot(n,e,e[30],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,a){r&&r.p&&(!t||1073741824&a[0])&&update_slot(r,n,e,e[30],a,null,null)},i(e){t||(transition_in(r,e),t=!0)},o(e){transition_out(r,e),t=!1},d(e){r&&r.d(e)}}}function create_if_block_2$2(e){let t,n,r,a;const o=[create_if_block_3$2,create_else_block$2],s=[];function i(e,t){return e[9]?0:1}return t=i(e),n=s[t]=o[t](e),{c(){n.c(),r=empty()},m(e,n){s[t].m(e,n),insert(e,r,n),a=!0},p(e,a){let c=t;t=i(e),t===c?s[t].p(e,a):(group_outros(),transition_out(s[c],1,1,(()=>{s[c]=null})),check_outros(),n=s[t],n?n.p(e,a):(n=s[t]=o[t](e),n.c()),transition_in(n,1),n.m(r.parentNode,r))},i(e){a||(transition_in(n),a=!0)},o(e){transition_out(n),a=!1},d(e){s[t].d(e),e&&detach(r)}}}function create_else_block$2(e){let t,n;return{c(){n=empty(),t=new HtmlTag(n)},m(r,a){t.m(e[14],r,a),insert(r,n,a)},p(e,n){16384&n[0]&&t.p(e[14])},i:noop,o:noop,d(e){e&&detach(n),e&&t.d()}}}function create_if_block_3$2(e){let t,n,r;const a=[e[7]];var o=e[8];function s(e){let t={};for(let e=0;e<a.length;e+=1)t=assign(t,a[e]);return{props:t}}return o&&(t=new o(s())),{c(){t&&create_component(t.$$.fragment),n=empty()},m(e,a){t&&mount_component(t,e,a),insert(e,n,a),r=!0},p(e,r){const i=128&r[0]?get_spread_update(a,[get_spread_object(e[7])]):{};if(o!==(o=e[8])){if(t){group_outros();const e=t;transition_out(e.$$.fragment,1,0,(()=>{destroy_component(e,1)})),check_outros()}o?(t=new o(s()),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,n.parentNode,n)):t=null}else o&&t.$set(i)},i(e){r||(t&&transition_in(t.$$.fragment,e),r=!0)},o(e){t&&transition_out(t.$$.fragment,e),r=!1},d(e){e&&detach(n),t&&destroy_component(t,e)}}}function create_fragment$3(e){let t,n,r,a;const o=[create_if_block$3,create_else_block_5],s=[];function i(e,t){return"key"==e[2]?0:1}return t=i(e),n=s[t]=o[t](e),{c(){n.c(),r=empty()},m(e,n){s[t].m(e,n),insert(e,r,n),a=!0},p(e,a){let c=t;t=i(e),t===c?s[t].p(e,a):(group_outros(),transition_out(s[c],1,1,(()=>{s[c]=null})),check_outros(),n=s[t],n?n.p(e,a):(n=s[t]=o[t](e),n.c()),transition_in(n,1),n.m(r.parentNode,r))},i(e){a||(transition_in(n),a=!0)},o(e){transition_out(n),a=!1},d(e){s[t].d(e),e&&detach(r)}}}function instance$3(e,t,n){let r,a,o,s,i,c,l,d,u,p,_,f,m,g,h,$,{$$slots:b={},$$scope:y}=t;const k=compute_slots(b);let{init:v}=t,{dimensions:w}=t,{debug:x}=t,{callbacks:O}=t,{features:j}=t,{misc:E}=t,{id:C}=t,{item:S}=t,{key:A}=t,{rowIndex:N}=t,{cellIndex:I}=t,{type:T}=t,{colspan:q=1}=t,{class:L=""}=t,F=0;function D(e,t){F+=1,setTimeout((()=>{1===F?p({...e,event:t}):2===F&&_({...e,event:t}),F=0}),0);const n=-1!=v.keys.indexOf(A);"key"==T&&n&&f&&E.reorder({id:C,item:S,key:A,e:t})}return e.$$set=e=>{n(38,t=assign(assign({},t),exclude_internal_props(e))),"init"in e&&n(0,v=e.init),"dimensions"in e&&n(17,w=e.dimensions),"debug"in e&&n(18,x=e.debug),"callbacks"in e&&n(19,O=e.callbacks),"features"in e&&n(20,j=e.features),"misc"in e&&n(21,E=e.misc),"id"in e&&n(22,C=e.id),"item"in e&&n(23,S=e.item),"key"in e&&n(1,A=e.key),"rowIndex"in e&&n(24,N=e.rowIndex),"cellIndex"in e&&n(25,I=e.cellIndex),"type"in e&&n(2,T=e.type),"colspan"in e&&n(3,q=e.colspan),"class"in e&&n(4,L=e.class),"$$scope"in e&&n(30,y=e.$$scope)},e.$$.update=()=>{33685504&e.$$.dirty[0]&&n(5,r=-1==I?100:(w.widths||[])[I]),2097152&e.$$.dirty[0]&&n(26,a=E.refresh?" ":""),1179648&e.$$.dirty[0]&&n(27,o=e=>{let t="\n\t\t\toverflow-wrap:break-word;\n\t\t\tbox-sizing:content-box;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;";const n=null!=w.row,r=null!=w.padding,a=n?w.row+"px;":"auto;";return r&&(t+="padding:"+w.padding+"px;"),t+=j.autohide||n?"white-space: nowrap;overflow:hidden;text-overflow: ellipsis;height:"+a+"line-height:"+a:"",t}),134217728&e.$$.dirty[0]&&n(10,s=o()),5&e.$$.dirty[0]&&n(6,c=v.sticky&&"key"==T),1048576&e.$$.dirty[0]&&n(28,f=j?.sortable?.key),268435556&e.$$.dirty[0]&&n(11,i=`\n\t\tvertical-align:middle;\n\t\tmargin:0;\n\t\tpadding:0;\n\t\t${c?"position:sticky;top:0;":"position:relative;"}\n\t\t${f&&"key"==T?"cursor:pointer":""}\n\t\t${r?`width:${isNaN(r)?r:r+"px"};`:""}`),t.$$slots,62914566&e.$$.dirty[0]&&n(7,l={id:C,item:S,key:A,value:S[A],cellIndex:I,rowIndex:N,type:T}),524288&e.$$.dirty[0]&&n(29,d=O||{}),536870916&e.$$.dirty[0]&&n(8,u=(d.render||{})[T]||defaults.render),536870916&e.$$.dirty[0]&&(p=(d.click||{})[T]||defaults.click),536870916&e.$$.dirty[0]&&(_=(d.dblclick||{})[T]||defaults.dblclick),1048576&e.$$.dirty[0]&&n(12,m=j?.sortable?.direction),268435458&e.$$.dirty[0]&&n(13,g=f==A),256&e.$$.dirty[0]&&n(9,$=-1!=Object.getOwnPropertyNames(u).indexOf("prototype")),67109760&e.$$.dirty[0]&&n(14,h=$?null:(u(l)||"")+a)},t=exclude_internal_props(t),[v,A,T,q,L,r,c,l,u,$,s,i,m,g,h,D,k,w,x,O,j,E,C,S,N,I,a,o,f,d,y,b,e=>D(l,e),e=>D(l,e)]}class Td extends SvelteComponent{constructor(e){super(),init(this,e,instance$3,create_fragment$3,safe_not_equal,{init:0,dimensions:17,debug:18,callbacks:19,features:20,misc:21,id:22,item:23,key:1,rowIndex:24,cellIndex:25,type:2,colspan:3,class:4},[-1,-1])}}function get_each_context$2(e,t,n){const r=e.slice();return r[28]=t[n],r[30]=n,r}function create_else_block$1(e){let t,n,r,a,o,s,i=e[0].checkable&&create_if_block_3$1(e),c=e[0].rearrangeable&&create_if_block_1$1(e),l=e[12],d=[];for(let t=0;t<l.length;t+=1)d[t]=create_each_block$2(get_each_context$2(e,l,t));const u=e=>transition_out(d[e],1,1,(()=>{d[e]=null}));return{c(){t=element("tr"),i&&i.c(),n=space(),c&&c.c(),r=space();for(let e=0;e<d.length;e+=1)d[e].c();attr(t,"class",a="stt-"+slugify(e[11])+e[17](e[9])),attr(t,"data-key",o=slugify(e[11])),attr(t,"style",style),toggle_class(t,"stt-checked",e[15]),toggle_class(t,"stt-rearrangeable",e[0].rearrangeable)},m(a,o){insert(a,t,o),i&&i.m(t,null),append(t,n),c&&c.m(t,null),append(t,r);for(let e=0;e<d.length;e+=1)d[e].m(t,null);e[25](t),s=!0},p(e,p){if(e[0].checkable?i?(i.p(e,p),1&p[0]&&transition_in(i,1)):(i=create_if_block_3$1(e),i.c(),transition_in(i,1),i.m(t,n)):i&&(group_outros(),transition_out(i,1,1,(()=>{i=null})),check_outros()),e[0].rearrangeable?c?(c.p(e,p),1&p[0]&&transition_in(c,1)):(c=create_if_block_1$1(e),c.c(),transition_in(c,1),c.m(t,r)):c&&(group_outros(),transition_out(c,1,1,(()=>{c=null})),check_outros()),14847&p[0]){let n;for(l=e[12],n=0;n<l.length;n+=1){const r=get_each_context$2(e,l,n);d[n]?(d[n].p(r,p),transition_in(d[n],1)):(d[n]=create_each_block$2(r),d[n].c(),transition_in(d[n],1),d[n].m(t,null))}for(group_outros(),n=l.length;n<d.length;n+=1)u(n);check_outros()}(!s||2560&p[0]&&a!==(a="stt-"+slugify(e[11])+e[17](e[9])))&&attr(t,"class",a),(!s||2048&p[0]&&o!==(o=slugify(e[11])))&&attr(t,"data-key",o),35328&p[0]&&toggle_class(t,"stt-checked",e[15]),2561&p[0]&&toggle_class(t,"stt-rearrangeable",e[0].rearrangeable)},i(e){if(!s){transition_in(i),transition_in(c);for(let e=0;e<l.length;e+=1)transition_in(d[e]);s=!0}},o(e){transition_out(i),transition_out(c),d=d.filter(Boolean);for(let e=0;e<d.length;e+=1)transition_out(d[e]);s=!1},d(n){n&&detach(t),i&&i.d(),c&&c.d(),destroy_each(d,n),e[25](null)}}}function create_if_block$2(e){let t,n,r,a,o;return n=new Td({props:{init:e[2],dimensions:e[3],debug:e[4],callbacks:e[5],features:e[0],misc:e[1],id:e[11],item:e[6],type:e[7],colspan:e[14],rowIndex:e[8],cellIndex:-1,key:"stt-hidden-cell",$$slots:{default:[create_default_slot]},$$scope:{ctx:e}}}),{c(){t=element("tr"),create_component(n.$$.fragment),attr(t,"class",r="stt-"+slugify(e[11])),attr(t,"data-key",a=slugify(e[11])),attr(t,"style",style),toggle_class(t,"stt-hidden",!0)},m(r,a){insert(r,t,a),mount_component(n,t,null),e[20](t),o=!0},p(e,s){const i={};4&s[0]&&(i.init=e[2]),8&s[0]&&(i.dimensions=e[3]),16&s[0]&&(i.debug=e[4]),32&s[0]&&(i.callbacks=e[5]),1&s[0]&&(i.features=e[0]),2&s[0]&&(i.misc=e[1]),2048&s[0]&&(i.id=e[11]),64&s[0]&&(i.item=e[6]),128&s[0]&&(i.type=e[7]),16384&s[0]&&(i.colspan=e[14]),256&s[0]&&(i.rowIndex=e[8]),8&s[0]|1&s[1]&&(i.$$scope={dirty:s,ctx:e}),n.$set(i),(!o||2048&s[0]&&r!==(r="stt-"+slugify(e[11])))&&attr(t,"class",r),(!o||2048&s[0]&&a!==(a=slugify(e[11])))&&attr(t,"data-key",a),2048&s[0]&&toggle_class(t,"stt-hidden",!0)},i(e){o||(transition_in(n.$$.fragment,e),o=!0)},o(e){transition_out(n.$$.fragment,e),o=!1},d(r){r&&detach(t),destroy_component(n),e[20](null)}}}function create_if_block_3$1(e){let t,n,r;function a(t){e[22](t)}let o={init:e[2],dimensions:e[3],debug:e[4],callbacks:e[5],misc:e[1],id:e[11],item:e[6],type:e[7],cellIndex:0,rowIndex:e[8],key:"stt-checkable-cell",$$slots:{default:[create_default_slot_2]},$$scope:{ctx:e}};return void 0!==e[0]&&(o.features=e[0]),t=new Td({props:o}),binding_callbacks.push((()=>bind(t,"features",a))),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const a={};4&r[0]&&(a.init=e[2]),8&r[0]&&(a.dimensions=e[3]),16&r[0]&&(a.debug=e[4]),32&r[0]&&(a.callbacks=e[5]),2&r[0]&&(a.misc=e[1]),2048&r[0]&&(a.id=e[11]),64&r[0]&&(a.item=e[6]),128&r[0]&&(a.type=e[7]),256&r[0]&&(a.rowIndex=e[8]),3073&r[0]|1&r[1]&&(a.$$scope={dirty:r,ctx:e}),!n&&1&r[0]&&(n=!0,a.features=e[0],add_flush_callback((()=>n=!1))),t.$set(a)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_default_slot_2(e){let t,n,r,a,o,s;return{c(){t=element("label"),n=element("input"),r=space(),a=element("span"),attr(n,"type","checkbox"),n.indeterminate=e[10],attr(t,"class","checkbox stt-checkbox"),attr(t,"style",e[18])},m(i,c){insert(i,t,c),append(t,n),n.checked=e[0].checkable[e[11]],append(t,r),append(t,a),o||(s=[listen(n,"change",e[21]),listen(n,"change",e[16])],o=!0)},p(e,t){1024&t[0]&&(n.indeterminate=e[10]),2049&t[0]&&(n.checked=e[0].checkable[e[11]])},d(e){e&&detach(t),o=!1,run_all(s)}}}function create_if_block_1$1(e){let t,n,r;function a(t){e[24](t)}let o={init:e[2],dimensions:e[3],debug:e[4],callbacks:e[5],misc:e[1],id:e[11],item:e[6],type:e[7],cellIndex:e[13]-1,rowIndex:e[8],key:"stt-rearrangeable-cell",$$slots:{default:[create_default_slot_1]},$$scope:{ctx:e}};return void 0!==e[0]&&(o.features=e[0]),t=new Td({props:o}),binding_callbacks.push((()=>bind(t,"features",a))),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const a={};4&r[0]&&(a.init=e[2]),8&r[0]&&(a.dimensions=e[3]),16&r[0]&&(a.debug=e[4]),32&r[0]&&(a.callbacks=e[5]),2&r[0]&&(a.misc=e[1]),2048&r[0]&&(a.id=e[11]),64&r[0]&&(a.item=e[6]),128&r[0]&&(a.type=e[7]),8192&r[0]&&(a.cellIndex=e[13]-1),256&r[0]&&(a.rowIndex=e[8]),2178&r[0]|1&r[1]&&(a.$$scope={dirty:r,ctx:e}),!n&&1&r[0]&&(n=!0,a.features=e[0],add_flush_callback((()=>n=!1))),t.$set(a)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_if_block_2$1(e){let t,n;return{c(){t=element("div"),n=text("|||"),attr(t,"style",e[18])},m(r,a){insert(r,t,a),append(t,n),e[23](t)},p:noop,d(n){n&&detach(t),e[23](null)}}}function create_default_slot_1(e){let t,n="key"!=e[7]&&create_if_block_2$1(e);return{c(){n&&n.c(),t=empty()},m(e,r){n&&n.m(e,r),insert(e,t,r)},p(e,r){"key"!=e[7]?n?n.p(e,r):(n=create_if_block_2$1(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&detach(t)}}}function create_each_block$2(e){let t,n;return t=new Td({props:{init:e[2],dimensions:e[3],debug:e[4],callbacks:e[5],features:e[0],misc:e[1],id:e[11],item:e[6],key:e[28],type:e[7],rowIndex:e[8],cellIndex:e[13]+e[30]}}),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},p(e,n){const r={};4&n[0]&&(r.init=e[2]),8&n[0]&&(r.dimensions=e[3]),16&n[0]&&(r.debug=e[4]),32&n[0]&&(r.callbacks=e[5]),1&n[0]&&(r.features=e[0]),2&n[0]&&(r.misc=e[1]),2048&n[0]&&(r.id=e[11]),64&n[0]&&(r.item=e[6]),4096&n[0]&&(r.key=e[28]),128&n[0]&&(r.type=e[7]),256&n[0]&&(r.rowIndex=e[8]),8192&n[0]&&(r.cellIndex=e[13]+e[30]),t.$set(r)},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_default_slot(e){let t,n;return{c(){t=element("div"),attr(t,"style",n="height: "+(e[3].row?e[3].row+"px":"auto"))},m(e,n){insert(e,t,n)},p(e,r){8&r[0]&&n!==(n="height: "+(e[3].row?e[3].row+"px":"auto"))&&attr(t,"style",n)},d(e){e&&detach(t)}}}function create_fragment$2(e){let t,n,r,a;const o=[create_if_block$2,create_else_block$1],s=[];function i(e,t){return e[1].hidden[e[11]]||!e[1].inited?0:1}return t=i(e),n=s[t]=o[t](e),{c(){n.c(),r=empty()},m(e,n){s[t].m(e,n),insert(e,r,n),a=!0},p(e,a){let c=t;t=i(e),t===c?s[t].p(e,a):(group_outros(),transition_out(s[c],1,1,(()=>{s[c]=null})),check_outros(),n=s[t],n?n.p(e,a):(n=s[t]=o[t](e),n.c()),transition_in(n,1),n.m(r.parentNode,r))},i(e){a||(transition_in(n),a=!0)},o(e){transition_out(n),a=!1},d(e){s[t].d(e),e&&detach(r)}}}let style="";function instance$2(e,t,n){let r,a,o,s,i,c,{init:l}=t,{dimensions:d}=t,{debug:u}=t,{callbacks:p}=t,{features:_}=t,{misc:f}=t,{item:m}=t,{type:g}=t,{rowIndex:h}=t,{classes:$={}}=t,{indeterminate:b=!1}=t;function y(e,t){(p?.checked||defaults.checked)({id:e,event:t,checkable:_.checkable}),n(0,_.checkable[e]=t.target.checked,_)}const k=`\n\t\tcursor:pointer;\n\t\tposition:absolute;\n\t\ttop:0;\n\t\tleft:0;\n\t\twidth:100%;\n\t\theight:100%;\n\t\tdisplay:flex;\n\t\tbox-sizing: border-box;\n\t\tpadding: ${d.padding||defaults.dimensions.padding}px;\n\t\talign-items:center;`;return e.$$set=e=>{"init"in e&&n(2,l=e.init),"dimensions"in e&&n(3,d=e.dimensions),"debug"in e&&n(4,u=e.debug),"callbacks"in e&&n(5,p=e.callbacks),"features"in e&&n(0,_=e.features),"misc"in e&&n(1,f=e.misc),"item"in e&&n(6,m=e.item),"type"in e&&n(7,g=e.type),"rowIndex"in e&&n(8,h=e.rowIndex),"classes"in e&&n(9,$=e.classes),"indeterminate"in e&&n(10,b=e.indeterminate)},e.$$.update=()=>{68&e.$$.dirty[0]&&n(11,r=m[l?.index]||l.data.indexOf(m)),4&e.$$.dirty[0]&&n(12,i=l.keys||[]),528384&e.$$.dirty[0]&&n(13,o=a-i.length),524288&e.$$.dirty[0]&&n(14,s=a),2049&e.$$.dirty[0]&&n(15,c=(_?.checkable||{})[r])},n(19,a=l.keys.length+(_.checkable?1:0)+(_.rearrangeable?1:0)),[_,f,l,d,u,p,m,g,h,$,b,r,i,o,s,c,function(e){if("key"==g)for(let t=0;t<l.data.length;t++){y(l.data[t][l.index],e)}else y(r,e)},function(e){let t="";for(const[n,a]of Object.entries(e))-1!=(a||[]).indexOf(r)&&null!=r&&(t+=" "+n);return t},k,a,function(e){binding_callbacks[e?"unshift":"push"]((()=>{f.els.tr[r]=e,n(1,f),n(11,r),n(6,m),n(2,l)}))},function(){_.checkable[r]=this.checked,n(0,_),n(11,r),n(6,m),n(2,l)},function(e){_=e,n(0,_)},function(e){binding_callbacks[e?"unshift":"push"]((()=>{f.els.handles[r]=e,n(1,f),n(11,r),n(6,m),n(2,l)}))},function(e){_=e,n(0,_)},function(e){binding_callbacks[e?"unshift":"push"]((()=>{f.els.tr[r]=e,n(1,f),n(11,r),n(6,m),n(2,l)}))}]}class Tr extends SvelteComponent{constructor(e){super(),init(this,e,instance$2,create_fragment$2,safe_not_equal,{init:2,dimensions:3,debug:4,callbacks:5,features:0,misc:1,item:6,type:7,rowIndex:8,classes:9,indeterminate:10},[-1,-1])}}function createCommonjsModule(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return commonjsRequire(e,null==t?n.path:t)}},n.exports),n.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var strictUriEncode=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)),token="%[a-f0-9]{2}",singleMatcher=new RegExp(token,"gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],decodeComponents(n),decodeComponents(r))}function decode(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(singleMatcher),n=1;n<t.length;n++)t=(e=decodeComponents(t,n).join("")).match(singleMatcher);return e}}function customDecodeURIComponent(e){for(var t={"%FE%FF":"ï¿½ï¿½","%FF%FE":"ï¿½ï¿½"},n=multiMatcher.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=decode(n[0]);r!==n[0]&&(t[n[0]]=r)}n=multiMatcher.exec(e)}t["%C2"]="ï¿½";for(var a=Object.keys(t),o=0;o<a.length;o++){var s=a[o];e=e.replace(new RegExp(s,"g"),t[s])}return e}var decodeUriComponent=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return customDecodeURIComponent(e)}},splitOnFirst=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]},filterObj=function(e,t){for(var n={},r=Object.keys(e),a=Array.isArray(t),o=0;o<r.length;o++){var s=r[o],i=e[s];(a?-1!==t.indexOf(s):t(s,i,e))&&(n[s]=i)}return n};createCommonjsModule((function(e,t){function n(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function r(e,t){return t.encode?t.strict?strictUriEncode(e):encodeURIComponent(e):e}function a(e,t){return t.decode?decodeUriComponent(e):e}function o(e){return Array.isArray(e)?e.sort():"object"==typeof e?o(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function s(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function i(e){const t=(e=s(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function c(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function l(e,t){n((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const o="string"==typeof n&&n.includes(e.arrayFormatSeparator),s="string"==typeof n&&!o&&a(n,e).includes(e.arrayFormatSeparator);n=s?a(n,e):n;const i=o||s?n.split(e.arrayFormatSeparator).map((t=>a(t,e))):null===n?n:a(n,e);r[t]=i};case"bracket-separator":return(t,n,r)=>{const o=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!o)return void(r[t]=n?a(n,e):n);const s=null===n?[]:n.split(e.arrayFormatSeparator).map((t=>a(t,e)));void 0!==r[t]?r[t]=[].concat(r[t],s):r[t]=s};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),s=Object.create(null);if("string"!=typeof e)return s;if(!(e=e.trim().replace(/^[?#&]/,"")))return s;for(const n of e.split("&")){if(""===n)continue;let[e,o]=splitOnFirst(t.decode?n.replace(/\+/g," "):n,"=");o=void 0===o?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?o:a(o,t),r(a(e,t),o,s)}for(const e of Object.keys(s)){const n=s[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=c(n[e],t);else s[e]=c(n,t)}return!1===t.sort?s:(!0===t.sort?Object.keys(s).sort():Object.keys(s).sort(t.sort)).reduce(((e,t)=>{const n=s[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=o(n):e[t]=n,e}),Object.create(null))}t.extract=i,t.parse=l,t.stringify=(e,t)=>{if(!e)return"";n((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const a=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],o=function(e){switch(e.arrayFormat){case"index":return t=>(n,a)=>{const o=n.length;return void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?n:null===a?[...n,[r(t,e),"[",o,"]"].join("")]:[...n,[r(t,e),"[",r(o,e),"]=",r(a,e)].join("")]};case"bracket":return t=>(n,a)=>void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?n:null===a?[...n,[r(t,e),"[]"].join("")]:[...n,[r(t,e),"[]=",r(a,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return n=>(a,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?a:(o=null===o?"":o,0===a.length?[[r(n,e),t,r(o,e)].join("")]:[[a,r(o,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,a)=>void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?n:null===a?[...n,r(t,e)]:[...n,[r(t,e),"=",r(a,e)].join("")]}}(t),s={};for(const t of Object.keys(e))a(t)||(s[t]=e[t]);const i=Object.keys(s);return!1!==t.sort&&i.sort(t.sort),i.map((n=>{const a=e[n];return void 0===a?"":null===a?r(n,t):Array.isArray(a)?0===a.length&&"bracket-separator"===t.arrayFormat?r(n,t)+"[]":a.reduce(o(n),[]).join("&"):r(n,t)+"="+r(a,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=splitOnFirst(e,"#");return Object.assign({url:n.split("?")[0]||"",query:l(i(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:a(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const a=s(e.url).split("?")[0]||"",o=t.extract(e.url),i=t.parse(o,{sort:!1}),c=Object.assign(i,e.query);let l=t.stringify(c,n);l&&(l=`?${l}`);let d=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(d=`#${r(e.fragmentIdentifier,n)}`),`${a}${l}${d}`},t.pick=(e,n,r)=>{r=Object.assign({parseFragmentIdentifier:!0},r);const{url:a,query:o,fragmentIdentifier:s}=t.parseUrl(e,r);return t.stringifyUrl({url:a,query:filterObj(o,n),fragmentIdentifier:s},r)},t.exclude=(e,n,r)=>{const a=Array.isArray(n)?e=>!n.includes(e):(e,t)=>!n(e,t);return t.pick(e,a,r)}}));const subscriber_queue=[];function writable(e,t=noop){let n;const r=[];function a(t){if(safe_not_equal(e,t)&&(e=t,n)){const t=!subscriber_queue.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),subscriber_queue.push(n,e)}if(t){for(let e=0;e<subscriber_queue.length;e+=2)subscriber_queue[e][0](subscriber_queue[e+1]);subscriber_queue.length=0}}}return{set:a,update:function(t){a(t(e))},subscribe:function(o,s=noop){const i=[o,s];return r.push(i),1===r.length&&(n=t(a)||noop),o(e),()=>{const e=r.indexOf(i);-1!==e&&r.splice(e,1),0===r.length&&(n(),n=null)}}}}function dragdrop(){const{subscribe:e,set:t,update:n}=writable({});function r(e,t){for(;(e=e.parentElement)&&!e.getAttribute(t););return e}function a(e){n((t=>(t[e]||(t[e]={handles:new Map,drops:[],source:null,destination:null,callbacks:new Map,dragging:!1}),t)))}const o={dragover:e=>{const t=r(e.target,"data-group");if(!t)return;const a=t.getAttribute("data-group");if(!a)return;let o;e.preventDefault(),n((e=>(o=e[a].callbacks.get(t),e[a].destination=t,e))),o?.dragover&&o.dragover(e)},dragleave:e=>{const t=r(e.target,"data-group");if(!t)return;const a=t.getAttribute("data-group");if(!a)return;let o;e.preventDefault(),n((e=>(o=e[a].callbacks.get(t),e[a].destination=null,e))),o?.dragleave&&o.dragleave(e)},drop:(e,t)=>{const a=r(e.target,"data-group");if(!a)return;const o=a.getAttribute("data-group");if(!o)return;let s;e.preventDefault(),n((t=>(s=t[o].callbacks.get(a),s?.drop&&s.drop({...e,source:t[o].source,destination:t[o].destination}),t[o].destination=null,t)))}};const s=e=>{const t=e.target.getAttribute("data-group");t&&(n((n=>(n[t].dragging=!1,n[t].source=e.target,n))),e.target.setAttribute("draggable",!1))},i=e=>{const t=e.target.getAttribute("data-group");if(!t)return;let r;n((n=>(n[t].dragging=!0,r=n[t].handles.get(e.target),n[t].source=r,n))),r.setAttribute("draggable",!0)};return{subscribe:e,set:t,update:n,addDragArea:function(e,t,r){e&&(a(e),r.addEventListener("dragend",s),r.addEventListener("mouseup",s),r.setAttribute("data-group",e),t.setAttribute("data-group",e),t.addEventListener("mousedown",i),n((n=>(n[e].handles.set(t,r),n))))},addDropArea:function(e,t,r){if(e){a(e),t.setAttribute("data-group",e),n((n=>(n[e].callbacks.set(t,r),n[e].drops.push(t),n)));for(const[e,n]of Object.entries(o))t.addEventListener(e,n)}},isDragging:function(e){if(!e)return;let t;return a(e),n((n=>(t=n[e].dragging,n))),t},clear:function(e){if(e)try{n((t=>{if(!t[e])return t;for(const[n,r]of Object.entries(t[e].handles))n.removeEventListener("mousedown",i),r.removeEventListener("dragend",s),r.removeEventListener("mouseup",s);for(let n=0;n<t[e].drops.length;n++){const r=t[e].drops[n];for(const[e,t]of Object.entries(o))r.removeEventListener(e,t)}return delete t[e],t}))}catch(t){console.error(`[dragdrop] could not clear "${e}":`,t.message)}}}}var dragdrop$1=dragdrop();function get_each_context$1(e,t,n){const r=e.slice();return r[33]=t[n],r[35]=n,r}function create_if_block$1(e){let t,n,r,a;function o(t){e[15](t)}let s={init:e[0],dimensions:e[1],debug:e[4],callbacks:e[7],misc:e[8],item:e[11],type:"key",indeterminate:e[9],rowIndex:-1};return void 0!==e[2]&&(s.features=e[2]),n=new Tr({props:s}),binding_callbacks.push((()=>bind(n,"features",o))),{c(){t=element("thead"),create_component(n.$$.fragment)},m(e,r){insert(e,t,r),mount_component(n,t,null),a=!0},p(e,t){const a={};1&t[0]&&(a.init=e[0]),2&t[0]&&(a.dimensions=e[1]),16&t[0]&&(a.debug=e[4]),128&t[0]&&(a.callbacks=e[7]),256&t[0]&&(a.misc=e[8]),2048&t[0]&&(a.item=e[11]),512&t[0]&&(a.indeterminate=e[9]),!r&&4&t[0]&&(r=!0,a.features=e[2],add_flush_callback((()=>r=!1))),n.$set(a)},i(e){a||(transition_in(n.$$.fragment,e),a=!0)},o(e){transition_out(n.$$.fragment,e),a=!1},d(e){e&&detach(t),destroy_component(n)}}}function create_each_block$1(e){let t,n,r;function a(t){e[16](t)}let o={init:e[0],classes:e[6],dimensions:e[1],debug:e[4],callbacks:e[7],misc:e[8],item:e[33],rowIndex:e[35],type:"cell"};return void 0!==e[2]&&(o.features=e[2]),t=new Tr({props:o}),binding_callbacks.push((()=>bind(t,"features",a))),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const a={};1&r[0]&&(a.init=e[0]),64&r[0]&&(a.classes=e[6]),2&r[0]&&(a.dimensions=e[1]),16&r[0]&&(a.debug=e[4]),128&r[0]&&(a.callbacks=e[7]),256&r[0]&&(a.misc=e[8]),1024&r[0]&&(a.item=e[33]),!n&&4&r[0]&&(n=!0,a.features=e[2],add_flush_callback((()=>n=!1))),t.$set(a)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_fragment$1(e){let t,n,r,a,o,s,i,c=!e[0].nohead&&create_if_block$1(e),l=e[10],d=[];for(let t=0;t<l.length;t+=1)d[t]=create_each_block$1(get_each_context$1(e,l,t));const u=e=>transition_out(d[e],1,1,(()=>{d[e]=null}));return{c(){t=element("table"),c&&c.c(),n=space(),r=element("tbody");for(let e=0;e<d.length;e+=1)d[e].c();attr(t,"id",a="stt-"+slugify(e[5])),attr(t,"class",o=e[3]+" stt-"+slugify(e[5])),attr(t,"data-id",s=slugify(e[5])),attr(t,"style",e[12])},m(a,o){insert(a,t,o),c&&c.m(t,null),append(t,n),append(t,r);for(let e=0;e<d.length;e+=1)d[e].m(r,null);e[17](t),i=!0},p(e,p){if(e[0].nohead?c&&(group_outros(),transition_out(c,1,1,(()=>{c=null})),check_outros()):c?(c.p(e,p),1&p[0]&&transition_in(c,1)):(c=create_if_block$1(e),c.c(),transition_in(c,1),c.m(t,n)),1495&p[0]){let t;for(l=e[10],t=0;t<l.length;t+=1){const n=get_each_context$1(e,l,t);d[t]?(d[t].p(n,p),transition_in(d[t],1)):(d[t]=create_each_block$1(n),d[t].c(),transition_in(d[t],1),d[t].m(r,null))}for(group_outros(),t=l.length;t<d.length;t+=1)u(t);check_outros()}(!i||32&p[0]&&a!==(a="stt-"+slugify(e[5])))&&attr(t,"id",a),(!i||40&p[0]&&o!==(o=e[3]+" stt-"+slugify(e[5])))&&attr(t,"class",o),(!i||32&p[0]&&s!==(s=slugify(e[5])))&&attr(t,"data-id",s),(!i||4096&p[0])&&attr(t,"style",e[12])},i(e){if(!i){transition_in(c);for(let e=0;e<l.length;e+=1)transition_in(d[e]);i=!0}},o(e){transition_out(c),d=d.filter(Boolean);for(let e=0;e<d.length;e+=1)transition_out(d[e]);i=!1},d(n){n&&detach(t),c&&c.d(),destroy_each(d,n),e[17](null)}}}function warn(e){console.warn(`[svelte-tabular-table] ${e}`)}function error(e){console.error(`[svelte-tabular-table] ${e}`)}function instance$1(e,t,n){let r,a,o,s,i;const c=createEventDispatcher();function l(e){f&&console.log(`[svelte-tabular-table] ${e} ${m?'("'+m+'")':""}`)}let{class:d=""}=t,{style:u=""}=t,{init:p={name:"table",keys:[],data:[],index:null,nohead:!1,nodiv:!1}}=t,{dimensions:_={...defaults.dimensions}}=t,{debug:f=!1}=t,{id:m="table"}=t;onMount((async()=>{}));let{classes:g={}}=t,{callbacks:h={click:{key:defaults.click,row:defaults.click,cell:defaults.click},render:{key:defaults.render,cell:defaults.render},checked:defaults.checked,sort:defaults.sort}}=t,{features:$={sortable:{key:null,direction:!1},rearrangeable:null,checkable:null,autohide:null}}=t,b={hidden:{},els:{table:null,thead:null,tr:{},td:{},handles:{},drops:{}},inited:!1,refresh:!0,reorder:e=>{if($?.sortable?.key,n(2,$.sortable.direction=!$.sortable.direction,$),e.key){const t=$.sortable.direction;n(2,$.sortable.key=e.key,$),l(`sorting with "${e.key}" -> ${t?"ascending":"descending"}`)}}},y=!1;function k(e,t,r){if(!t)return;t&&null==_?.row&&n(1,_.row=defaults.dimensions.row,_),t&&null==_?.padding&&n(1,_.padding=defaults.dimensions.padding,_);let a={above:0,below:0,first:null,last:null};const s=(o||[]).length,i=t?.container,d=null!=i&&s>0,u=t?.position||0,m=r.row+2*r.padding,g=(i?.offsetHeight||window.innerHeight)+m,h=g*(t?.buffer||0),$=b?.els?.table?.offsetTop||0,y=i?.offsetTop||0,k=$-y;for(let e=0;e<s;e++){const t=o[e][p.index];n(8,b.hidden[t]=!1,b);const r=m*e+m+(p.nohead?0:m),s=u>r+k+h,i=r+k>u+g+h;(s||i)&&d&&n(8,b.hidden[t]=!0,b),s&&(a.above+=1,a.first=e),i&&(a.below+=1,a.last||(a.last=e))}a.above>0||a.below;d&&f&&l(`${g}px container: ${a.above}/${s} above, ${a.below}/${s} below, from ${a.first} to ${a.last}, ${s-(a.above+a.below)}/${s} visible, using height ${m}px`),d&&(n(8,b.inited=!0,b),c("inited"))}onDestroy((async()=>{y&&dragdrop$1.clear("table")}));const v=e=>k(0,$?.autohide,_);let w=!1;return e.$$set=e=>{"class"in e&&n(3,d=e.class),"style"in e&&n(13,u=e.style),"init"in e&&n(0,p=e.init),"dimensions"in e&&n(1,_=e.dimensions),"debug"in e&&n(4,f=e.debug),"id"in e&&n(5,m=e.id),"classes"in e&&n(6,g=e.classes),"callbacks"in e&&n(7,h=e.callbacks),"features"in e&&n(2,$=e.features)},e.$$.update=()=>{391&e.$$.dirty[0]&&function(e,t,r,a,o){a.autohide&&!t.row&&warn("features.autohide is set, but no height is set for dimensions.row (defaulting to 1em)");let s=[],i={added:0,duped:0};const l=p.data.length;for(let e=0;e<l;e++){if(!p.data[e][p.index]){const t="id"+e;n(0,p.data[e][p.index]=t,p),i.added+=1}if(-1!=s.indexOf(p.data[e][p.index])){for(n(0,p.data[e]={...p.data[e]},p);-1!=s.indexOf(p.data[e][p.index]);)n(0,p.data[e][p.index]+="_dup",p);i.duped+=1}s.push(p.data[e][p.index])}(i.duped>0||i.added>0)&&warn(`${e?.name||""} ${i.duped}/${l} duplicate keys amended, ${i.added}/${l} keys added`),a.autohide||(o.inited=!0,c("inited"))}(p,_,0,$,b),7&e.$$.dirty[0]&&k(0,$?.autohide,_),1&e.$$.dirty[0]&&(p.data,$.rearrangeable&&setTimeout((()=>{y&&dragdrop$1.clear("table");for(const[e,t]of Object.entries(b.els.tr)){const n=b.els.handles[e],r={drop:e=>{try{const t=e.source.getAttribute("data-key"),n=e.destination.getAttribute("data-key"),r=p.data.find((e=>e[p.index]==t)),a=p.data.find((e=>e[p.index]==n)),o=p.data.indexOf(r),s=p.data.indexOf(a);l(`dragged from ${o} to ${s}`),"function"==typeof $.rearrangeable?$.rearrangeable(o,s):warn("there is no callback for features.rearrangeable (nothing will happen)")}catch(e){error(`could not drag and drop: ${e.message}`)}},enable:e=>isDragging=!0,disable:e=>isDragging=!1};n&&t&&(dragdrop$1.addDragArea("table",n,t),dragdrop$1.addDropArea("table",t,r),y=!0)}}),1)),4&e.$$.dirty[0]&&function(e){let t=!1,r=!1;for(let e=0;e<p.data.length;e++){const n=p.data[e][p.index];($.checkable||[])[n]&&(t=!0),($.checkable||[])[n]||(r=!0)}n(9,w=!(!t&&r||t&&!r))}($.checkable),128&e.$$.dirty[0]&&(a=h?.sort||defaults.sort),37&e.$$.dirty[0]&&n(10,o=$?.sortable?.key?function(e,t){const n=a(e,[...p.data],t);return setTimeout(v,1),n}($.sortable,m):p.data),2&e.$$.dirty[0]&&n(14,s=_.widths?"table-layout:fixed;":""),24578&e.$$.dirty[0]&&n(12,i=`min-width:${_.minwidth||"0"}px;width:100%;${s}border-spacing:0;${u}`)},n(11,r=p.keys.reduce((function(e,t,n){return e[t]=t,e}),{[p.index]:"svelte-tabular-table-thead"})),[p,_,$,d,f,m,g,h,b,w,o,r,i,u,s,function(e){$=e,n(2,$)},function(e){$=e,n(2,$)},function(e){binding_callbacks[e?"unshift":"push"]((()=>{b.els.table=e,n(8,b)}))}]}class Table extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$1,safe_not_equal,{class:3,style:13,init:0,dimensions:1,debug:4,id:5,classes:6,callbacks:7,features:2},[-1,-1])}}const SEP="/",STYPE=0,PTYPE=1,ATYPE=2,OTYPE=3,SLASH=47,COLON=58,ASTER=42,QMARK=63;function strip(e){if(e===SEP)return e;e.charCodeAt(0)===SLASH&&(e=e.substring(1));var t=e.length-1;return e.charCodeAt(t)===SLASH?e.substring(0,t):e}function parse(e){if(e===SEP)return[{old:e,type:STYPE,val:e,end:""}];for(var t,n,r,a,o=strip(e),s=-1,i=0,c=o.length,l=[];++s<c;)if((t=o.charCodeAt(s))!==COLON)if(t!==ASTER){for(i=s;s<c&&o.charCodeAt(s)!==SLASH;)++s;l.push({old:e,type:STYPE,val:o.substring(i,s),end:""}),o=o.substring(s),c-=s,s=i=0}else l.push({old:e,type:ATYPE,val:o.substring(s),end:""});else{for(i=s+1,r=PTYPE,n=0,a="";s<c&&o.charCodeAt(s)!==SLASH;)(t=o.charCodeAt(s))===QMARK?(n=s,r=OTYPE):46===t&&0===a.length&&(a=o.substring(n=s)),s++;l.push({old:e,type:r,val:o.substring(i,n||s),end:a}),o=o.substring(s),c-=s,s=0}return l}const{window:window_1}=globals;function get_each_context(e,t,n){const r=e.slice();return r[46]=t[n],r[47]=t,r[48]=n,r}function get_each_context_1(e,t,n){const r=e.slice();return r[49]=t[n][0],r[50]=t[n][1],r[51]=t,r[52]=n,r}function create_else_block_2(e){let t;return{c(){t=element("div"),t.textContent="N/A",attr(t,"class","plr1 mb1 fade")},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t)}}}function create_if_block_2(e){let t,n,r=0==Object.keys(e[9].schema).length,a=r&&create_if_block_5(),o=Object.entries(e[9].schema),s=[];for(let t=0;t<o.length;t+=1)s[t]=create_each_block_1(get_each_context_1(e,o,t));return{c(){t=element("form"),a&&a.c(),n=space();for(let e=0;e<s.length;e+=1)s[e].c();attr(t,"class","flex column cmb1 p1")},m(e,r){insert(e,t,r),a&&a.m(t,null),append(t,n);for(let e=0;e<s.length;e+=1)s[e].m(t,null)},p(e,i){if(512&i[0]&&(r=0==Object.keys(e[9].schema).length),r?a||(a=create_if_block_5(),a.c(),a.m(t,n)):a&&(a.d(1),a=null),515&i[0]){let n;for(o=Object.entries(e[9].schema),n=0;n<o.length;n+=1){const r=get_each_context_1(e,o,n);s[n]?s[n].p(r,i):(s[n]=create_each_block_1(r),s[n].c(),s[n].m(t,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=o.length}},d(e){e&&detach(t),a&&a.d(),destroy_each(s,e)}}}function create_if_block_5(e){let t;return{c(){t=element("div"),t.textContent="N/A",attr(t,"class","fade")},m(e,n){insert(e,t,n)},d(e){e&&detach(t)}}}function create_else_block_1(e){let t,n,r,a,o,s;function i(){e[36].call(t,e[49])}return{c(){t=element("input"),attr(t,"name",n=e[49]),attr(t,"class","flex grow p0-6"),t.required=r=e[50].required,attr(t,"placeholder",a=e[49])},m(n,r){insert(n,t,r),set_input_value(t,e[1][e[0]][e[49]]),o||(s=listen(t,"input",i),o=!0)},p(o,s){e=o,512&s[0]&&n!==(n=e[49])&&attr(t,"name",n),512&s[0]&&r!==(r=e[50].required)&&(t.required=r),512&s[0]&&a!==(a=e[49])&&attr(t,"placeholder",a),515&s[0]&&t.value!==e[1][e[0]][e[49]]&&set_input_value(t,e[1][e[0]][e[49]])},d(e){e&&detach(t),o=!1,s()}}}function create_if_block_4(e){let t,n,r,a,o,s;function i(){e[35].call(t,e[49])}return{c(){t=element("textarea"),attr(t,"name",n=e[49]),attr(t,"class","monospace flex grow p0-6"),attr(t,"rows","6"),t.required=r=e[50].required,attr(t,"placeholder",a=e[49])},m(n,r){insert(n,t,r),set_input_value(t,e[1][e[0]][e[49]]),o||(s=listen(t,"input",i),o=!0)},p(o,s){e=o,512&s[0]&&n!==(n=e[49])&&attr(t,"name",n),512&s[0]&&r!==(r=e[50].required)&&(t.required=r),512&s[0]&&a!==(a=e[49])&&attr(t,"placeholder",a),515&s[0]&&set_input_value(t,e[1][e[0]][e[49]])},d(e){e&&detach(t),o=!1,s()}}}function create_if_block_3(e){let t,n,r,a,o,s,i,c,l,d;function u(){e[34].call(n,e[49])}return{c(){t=element("label"),n=element("input"),s=space(),i=element("span"),c=space(),attr(n,"name",r=e[49]),attr(n,"type","checkbox"),attr(n,"placeholder",a=e[49]),n.required=o=e[50].required,attr(t,"class","checkbox")},m(r,a){insert(r,t,a),append(t,n),n.checked=e[1][e[0]][e[49]],append(t,s),append(t,i),append(t,c),l||(d=listen(n,"change",u),l=!0)},p(t,s){e=t,512&s[0]&&r!==(r=e[49])&&attr(n,"name",r),512&s[0]&&a!==(a=e[49])&&attr(n,"placeholder",a),512&s[0]&&o!==(o=e[50].required)&&(n.required=o),515&s[0]&&(n.checked=e[1][e[0]][e[49]])},d(e){e&&detach(t),l=!1,d()}}}function create_each_block_1(e){let t,n,r,a,o,s,i,c,l,d=e[49]+"",u=e[50].required?"*":"",p=e[50].type+"";function _(e,t){return"boolean"==e[50].type?create_if_block_3:"object"==e[50].type||"array"==e[50].type?create_if_block_4:create_else_block_1}let f=_(e),m=f(e);return{c(){t=element("div"),n=text(d),r=space(),a=text(u),o=space(),s=element("span"),i=text(p),c=space(),m.c(),l=empty(),attr(s,"class","fade normal monospace"),attr(t,"class","bold")},m(e,d){insert(e,t,d),append(t,n),append(t,r),append(t,a),append(t,o),append(t,s),append(s,i),insert(e,c,d),m.m(e,d),insert(e,l,d)},p(e,t){512&t[0]&&d!==(d=e[49]+"")&&set_data(n,d),512&t[0]&&u!==(u=e[50].required?"*":"")&&set_data(a,u),512&t[0]&&p!==(p=e[50].type+"")&&set_data(i,p),f===(f=_(e))&&m?m.p(e,t):(m.d(1),m=f(e),m&&(m.c(),m.m(l.parentNode,l)))},d(e){e&&detach(t),e&&detach(c),m.d(e),e&&detach(l)}}}function create_else_block(e){let t;return{c(){t=element("div"),t.textContent="N/A",attr(t,"class","fade")},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t)}}}function create_if_block(e){let t,n,r,a,o,s,i,c,l,d,u=e[9].description+"",p=e[2][e[0]],_=[];for(let t=0;t<p.length;t+=1)_[t]=create_each_block(get_each_context(e,p,t));return{c(){t=element("p"),n=text(u),r=space();for(let e=0;e<_.length;e+=1)_[e].c();a=space(),o=element("input"),s=space(),i=element("button"),c=text("send"),attr(o,"type","text"),o.disabled=!0,o.value=e[10],attr(i,"class","filled"),i.disabled=e[3]},m(u,p){insert(u,t,p),append(t,n),insert(u,r,p);for(let e=0;e<_.length;e+=1)_[e].m(u,p);insert(u,a,p),insert(u,o,p),insert(u,s,p),insert(u,i,p),append(i,c),l||(d=listen(i,"click",e[18]),l=!0)},p(e,t){if(512&t[0]&&u!==(u=e[9].description+"")&&set_data(n,u),5&t[0]){let n;for(p=e[2][e[0]],n=0;n<p.length;n+=1){const r=get_each_context(e,p,n);_[n]?_[n].p(r,t):(_[n]=create_each_block(r),_[n].c(),_[n].m(a.parentNode,a))}for(;n<_.length;n+=1)_[n].d(1);_.length=p.length}1024&t[0]&&o.value!==e[10]&&(o.value=e[10]),8&t[0]&&(i.disabled=e[3])},d(e){e&&detach(t),e&&detach(r),destroy_each(_,e),e&&detach(a),e&&detach(o),e&&detach(s),e&&detach(i),l=!1,d()}}}function create_if_block_1(e){let t,n,r,a,o,s,i,c,l=e[46].val+"";function d(){e[37].call(a,e[47],e[48])}return{c(){t=element("div"),n=text(l),r=space(),a=element("input"),attr(t,"class","bold"),attr(a,"name",o=e[46].val),attr(a,"type","text"),attr(a,"placeholder",s=e[46].val)},m(o,s){insert(o,t,s),append(t,n),insert(o,r,s),insert(o,a,s),set_input_value(a,e[46].value),i||(c=listen(a,"input",d),i=!0)},p(t,r){e=t,5&r[0]&&l!==(l=e[46].val+"")&&set_data(n,l),5&r[0]&&o!==(o=e[46].val)&&attr(a,"name",o),5&r[0]&&s!==(s=e[46].val)&&attr(a,"placeholder",s),5&r[0]&&a.value!==e[46].value&&set_input_value(a,e[46].value)},d(e){e&&detach(t),e&&detach(r),e&&detach(a),i=!1,c()}}}function create_each_block(e){let t,n=e[46].type>0&&create_if_block_1(e);return{c(){n&&n.c(),t=empty()},m(e,r){n&&n.m(e,r),insert(e,t,r)},p(e,r){e[46].type>0?n?n.p(e,r):(n=create_if_block_1(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&detach(t)}}}function create_fragment(e){let t,n,r,a,o,s,i,c,l,d,u,p,_,f,m,g,h,$,b,y,k,v,w,x,O,j,E,C,S,A,N,I,T,q,L,F,D,M,H,P,U,R,J,Y,B,z,K,Q,V,G,W,X,Z,ee,te,ne,re,ae,oe,se,ie=(e[4].username||"")+"",ce=(e[3]?'<span class="fade">waiting...</span>':e[11])+"";function le(e,t){return e[9]?create_if_block_2:create_else_block_2}i=new Table({props:{init:e[7],classes:e[8],features:e[15],callbacks:e[16],dimensions:e[14]}});let de=le(e),ue=de(e);function pe(e,t){return e[9]?create_if_block:create_else_block}let _e=pe(e),fe=_e(e);return Q=new Table({props:{init:e[12],classes:e[13],dimensions:e[20],callbacks:e[22],features:e[21]}}),{c(){t=element("main"),n=element("div"),r=element("div"),a=element("div"),a.innerHTML='<h4 class="bold flex"><span class="bb2-solid block">Application Programming Interface</span></h4>',o=space(),s=element("div"),create_component(i.$$.fragment),c=space(),l=element("div"),d=element("h4"),d.innerHTML='<span class="bb2-solid block">Auth</span>',u=space(),p=element("div"),_=element("div"),f=element("span"),f.textContent="Viewing as",m=space(),g=element("span"),h=text(ie),$=space(),b=element("div"),y=text(e[6]),k=space(),v=element("form"),w=element("input"),x=space(),O=element("input"),j=space(),E=element("button"),E.textContent="login",C=space(),S=element("div"),A=element("button"),A.textContent="logout",N=space(),I=element("div"),T=element("div"),T.innerHTML='<h4 class="flex bold"><span class="bb2-solid block">Arguments</span></h4>',q=space(),ue.c(),L=space(),F=element("div"),D=element("h4"),D.innerHTML='<span class="bb2-solid block">Endpoint</span>',M=space(),fe.c(),H=space(),P=element("div"),U=element("div"),R=element("div"),J=element("h4"),J.innerHTML='<span class="bb2-solid block">Response</span>',Y=space(),B=element("button"),B.textContent="clear",z=space(),K=element("div"),create_component(Q.$$.fragment),V=space(),G=element("div"),W=element("div"),X=element("h4"),X.innerHTML='<span class="bb2-solid block">Data</span>',Z=space(),ee=element("button"),ee.textContent="copy",te=space(),ne=element("div"),re=element("pre"),attr(a,"class","p1"),attr(s,"class","overflow-auto h100pc"),attr(d,"class","flex bold"),attr(g,"class","bb1-solid inline-block bold"),attr(p,"class","flex row-space-between-center"),attr(w,"name","username"),attr(w,"class","grow mr1"),attr(w,"type","text"),attr(w,"placeholder","username"),attr(O,"name","password"),attr(O,"class","grow mr1"),attr(O,"type","password"),attr(O,"placeholder","password"),attr(E,"class","filled "),attr(v,"method","post"),attr(v,"action","/api/login"),attr(v,"class","flex row"),toggle_class(v,"none",e[4].loggedin),attr(A,"class","filled"),attr(S,"class","grow basis0em h100pc flex row-flex-start-stretch cmr1"),toggle_class(S,"none",!e[4].loggedin),attr(l,"class","p1 bt1-solid flex column cmb1"),attr(r,"class","flex column basis10pc br1-solid grow overflow-hidden h100vh"),attr(T,"class","p1"),attr(D,"class","flex bold"),attr(F,"class","flex column cmb1 p1 bt1-solid"),attr(I,"class","flex column no-basis br1-solid grow overflow-auto"),attr(J,"class","flex bold"),attr(R,"class","p1 flex row-space-between-center"),attr(K,"class","overflow-auto h100pc"),attr(U,"class","overflow-hidden minh50vh maxh50vh h50vh flex column"),attr(W,"class","flex row-space-between-center"),attr(re,"class","mtb1 monospace w100pc"),set_style(re,"word-wrap","break-word"),set_style(re,"white-space","pre-wrap"),attr(ne,"class","overflow-auto h100pc w100pc"),attr(G,"class","flex column p1 bt1-solid overflow-hidden"),attr(P,"class","flex flex-column grow no-basis"),attr(n,"class","flex grow h100pc"),attr(t,"class","flex column-stretch-stretch h100vh overflow-hidden")},m(ie,le){insert(ie,t,le),append(t,n),append(n,r),append(r,a),append(r,o),append(r,s),mount_component(i,s,null),append(r,c),append(r,l),append(l,d),append(l,u),append(l,p),append(p,_),append(_,f),append(_,m),append(_,g),append(g,h),append(p,$),append(p,b),append(b,y),append(l,k),append(l,v),append(v,w),set_input_value(w,e[5].username),append(v,x),append(v,O),set_input_value(O,e[5].password),append(v,j),append(v,E),append(l,C),append(l,S),append(S,A),append(n,N),append(n,I),append(I,T),append(I,q),ue.m(I,null),append(I,L),append(I,F),append(F,D),append(F,M),fe.m(F,null),append(n,H),append(n,P),append(P,U),append(U,R),append(R,J),append(R,Y),append(R,B),append(U,z),append(U,K),mount_component(Q,K,null),append(P,V),append(P,G),append(G,W),append(W,X),append(W,Z),append(W,ee),append(G,te),append(G,ne),append(ne,re),re.innerHTML=ce,ae=!0,oe||(se=[listen(window_1,"hashchange",e[17]),listen(w,"input",e[32]),listen(O,"input",e[33]),listen(E,"click",e[19]),listen(A,"click",logout),listen(B,"click",e[23]),listen(ee,"click",e[24])],oe=!0)},p(e,t){const n={};128&t[0]&&(n.init=e[7]),256&t[0]&&(n.classes=e[8]),i.$set(n),(!ae||16&t[0])&&ie!==(ie=(e[4].username||"")+"")&&set_data(h,ie),(!ae||64&t[0])&&set_data(y,e[6]),32&t[0]&&w.value!==e[5].username&&set_input_value(w,e[5].username),32&t[0]&&O.value!==e[5].password&&set_input_value(O,e[5].password),16&t[0]&&toggle_class(v,"none",e[4].loggedin),16&t[0]&&toggle_class(S,"none",!e[4].loggedin),de===(de=le(e))&&ue?ue.p(e,t):(ue.d(1),ue=de(e),ue&&(ue.c(),ue.m(I,L))),_e===(_e=pe(e))&&fe?fe.p(e,t):(fe.d(1),fe=_e(e),fe&&(fe.c(),fe.m(F,null)));const r={};4096&t[0]&&(r.init=e[12]),8192&t[0]&&(r.classes=e[13]),Q.$set(r),(!ae||2056&t[0])&&ce!==(ce=(e[3]?'<span class="fade">waiting...</span>':e[11])+"")&&(re.innerHTML=ce)},i(e){ae||(transition_in(i.$$.fragment,e),transition_in(Q.$$.fragment,e),ae=!0)},o(e){transition_out(i.$$.fragment,e),transition_out(Q.$$.fragment,e),ae=!1},d(e){e&&detach(t),destroy_component(i),ue.d(),fe.d(),destroy_component(Q),oe=!1,run_all(se)}}}async function logout(e){e.preventDefault(),e.stopPropagation()}function instance($$self,$$props,$$invalidate){let init,classes,endpoint,args,regexed,path,storage,str,historyInit,historyClasses,saveable,endpoints=[],dimensions={padding:13,widths:[280,120,80,110],minwidth:800},features={sortable:{key:"category"}},callbacks={render:{cell:e=>{const t="url"==e.key,n="permissions"==e.key?`<span class="${e.value?"cross":""} w1em h1em block" />`:e.value;return`\n\t\t\t\t\t<a \n\t\t\t\t\t\tclass="unclickable fill"\n\t\t\t\t\t\t${t?'target="_blank"':""}\n\t\t\t\t\t\thref="${t?e.value:"#"+e.item.url}">\n\t\t\t\t\t</a>\n\t\t\t\t\t<span class="\n\t\t\t\t\t\t${t?"bb1-solid":""}\n\t\t\t\t\t">${n}</span>\n\t\t\t\t`}}},timestamp;function onHashChange(){$$invalidate(0,hash=window.location.hash.substring(1)),values[hash]||$$invalidate(1,values[hash]={},values);for(let e=0;e<endpoints.length;e++)$$invalidate(25,endpoints[e].selected=endpoints[e]?.item?.url==hash,endpoints);status=null,$$invalidate(3,waiting=!1),$$invalidate(27,data=""),components[hash]||$$invalidate(2,components[hash]=parse(hash),components),whoami()}async function getPermissions(){for(let e=0;e<endpoints.length;e++){let t=endpoints[e];const n=await fetcher[t.type.toLowerCase()](t.url,{ezapi_permissions:!0});$$invalidate(25,endpoints[e].permissions=n.ok||!1,endpoints)}}function path_(e,t){if(null==t)return e;const n=Object.keys(t);for(let r=0;r<n.length;r++){const a=n[r];0==r&&(e+="?"),null!=t[a]&&""!=t[a]&&(e+=`${a}=${encodeURIComponent(t[a])}`,r!=n.length-1&&(e+="&"))}return e}async function whoami(){$$invalidate(4,who=(await fetcher.get("/api/whoami")).data)}onMount((async()=>{const e=await fetch("endpoints"),t=["get","post","put","delete"];$$invalidate(25,endpoints=(await e.json()).filter((e=>-1!=t.indexOf(e.type)))),setTimeout((e=>{onHashChange(),$$invalidate(26,history=JSON.parse(window.localStorage.getItem(storage))||[])}),10),await getPermissions()}));let waiting=!1,who="",history=[];async function submit(){let copy=JSON.parse(JSON.stringify(args));Object.keys(copy).forEach((k=>{const sch=endpoint.schema[k];if("object"==sch.type||"array"==sch.type)try{copy[k]=eval("("+copy[k]+")"),console.log(`[Overview]  parsed object / array ${k}:`,copy[k])}catch(e){console.warn(`[Overview]  couldn't parse ${k}:`,e.message,copy[k]),copy[k]=null}})),timestamp=new Date,$$invalidate(27,data=""),$$invalidate(3,waiting=!0);const res=await fetcher[endpoint.type](regexed,copy,!1);if(status=res.status||res.code,timer=(new Date-timestamp)/1e3,res.ok){$$invalidate(27,data=res.data);let e=history;const t={...JSON.parse(JSON.stringify(saveable)),data:JSON.stringify(data),status:status,timer:timer.toFixed(2),id:new Date/1e3,timestamp:(new Date).toISOString().substr(11,8)};console.log("[Overview]  adding entry",t.values),e.push(t),$$invalidate(26,history=e),window.localStorage.setItem(storage,JSON.stringify(history)),$$invalidate(28,index=0)}res.error&&$$invalidate(27,data=res.message),setTimeout((e=>$$invalidate(3,waiting=!1)),10)}let creds={username:"",password:""},loginError="";async function login(e){$$invalidate(6,loginError=""),e.preventDefault(),e.stopPropagation();const t=await fetcher.post("/api/login",creds);t.ok?(await whoami(),await getPermissions()):$$invalidate(6,loginError=t?.message||t)}let historyDimensions={padding:13,widths:[null,70,60,100]},historyFeatures={},historyCallbacks={click:{cell:e=>{$$invalidate(28,index=e.rowIndex);const t=history[index],n=history[index].url;$$invalidate(2,components[n]=JSON.parse(JSON.stringify(t.components)),components),$$invalidate(1,values[n]=JSON.parse(JSON.stringify(t.values)),values),$$invalidate(27,data=JSON.parse(t.data))}}},hash,status,timer,data="",values={},components={},index=-1;function clear(){$$invalidate(26,history=[]),window.localStorage.setItem(storage,null)}async function copy(){navigator.clipboard&&await navigator.clipboard.writeText(str)}function compare(e,t){if(!t||!e)return;if(JSON.stringify({url:t.url,values:t.values,components:t.components})!=JSON.stringify({url:e.url,values:e.values,components:e.components})){const e=history;$$invalidate(26,history=[]),$$invalidate(28,index=-1),$$invalidate(26,history=e)}}function input0_input_handler(){creds.username=this.value,$$invalidate(5,creds)}function input1_input_handler(){creds.password=this.value,$$invalidate(5,creds)}function input_change_handler(e){values[hash][e]=this.checked,$$invalidate(1,values),$$invalidate(0,hash),$$invalidate(9,endpoint),$$invalidate(25,endpoints),$$invalidate(0,hash)}function textarea_input_handler(e){values[hash][e]=this.value,$$invalidate(1,values),$$invalidate(0,hash),$$invalidate(9,endpoint),$$invalidate(25,endpoints),$$invalidate(0,hash)}function input_input_handler(e){values[hash][e]=this.value,$$invalidate(1,values),$$invalidate(0,hash),$$invalidate(9,endpoint),$$invalidate(25,endpoints),$$invalidate(0,hash)}function input_input_handler_1(e,t){e[t].value=this.value,$$invalidate(2,components),$$invalidate(0,hash)}return $$self.$$.update=()=>{33554432&$$self.$$.dirty[0]&&$$invalidate(7,init={data:endpoints,keys:["url","category","type","permissions","description"],index:"url"}),1&$$self.$$.dirty[0]&&$$invalidate(8,classes={filled:[hash]}),33554433&$$self.$$.dirty[0]&&$$invalidate(9,endpoint=endpoints.find((e=>e.url==hash&&""!=hash))),3&$$self.$$.dirty[0]&&$$invalidate(29,args=values[hash]),5&$$self.$$.dirty[0]&&$$invalidate(30,regexed="/"+(components[hash]||[]).map((e=>e.value||e.val)).join("/")),1610612736&$$self.$$.dirty[0]&&$$invalidate(10,path=path_(regexed,args)),134217728&$$self.$$.dirty[0]&&$$invalidate(11,str=JSON.stringify(data,null,"\t")),67108864&$$self.$$.dirty[0]&&$$invalidate(12,historyInit={data:history.reverse()||[],keys:["url","status","timer","timestamp"],index:"id"}),335544320&$$self.$$.dirty[0]&&$$invalidate(13,historyClasses={filled:[history[index]?.id]}),7&$$self.$$.dirty[0]&&$$invalidate(31,saveable={url:hash,values:values[hash],components:components[hash]}),335544320&$$self.$$.dirty[0]|1&$$self.$$.dirty[1]&&compare(saveable,history[index])},storage=window.location.host+window.location.pathname,[hash,values,components,waiting,who,creds,loginError,init,classes,endpoint,path,str,historyInit,historyClasses,dimensions,features,callbacks,onHashChange,submit,login,historyDimensions,historyFeatures,historyCallbacks,clear,copy,endpoints,history,data,index,args,regexed,saveable,input0_input_handler,input1_input_handler,input_change_handler,textarea_input_handler,input_input_handler,input_input_handler_1]}class Overview extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,{},[-1,-1])}}const overview=new Overview({target:document.body,props:{}});return overview}();
